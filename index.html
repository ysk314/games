<!doctype html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SDGsã‚¯ã‚¤ã‚ºã‚²ãƒ¼ãƒ </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
            font-family: 'Noto Sans JP', sans-serif;
        }
        .sdg-button {
            transition: all 0.2s ease;
        }
        .sdg-button:hover {
            transform: scale(1.05);
        }
        .correct-answer {
            border: 4px solid #10b981 !important;
            box-shadow: 0 0 0 2px #10b981 !important;
        }
        .wrong-answer {
            background-color: #ef4444 !important;
            color: white !important;
        }
        .pulse {
            animation: pulse 0.5s ease-in-out;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
            background: white;
            padding: 10px 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .volume-slider {
            width: 100px;
        }
    </style>
</head>
<body class="min-h-full bg-gradient-to-br from-blue-50 to-green-50">
    <div class="container mx-auto px-4 py-6 max-w-6xl">
        <!-- éŸ³é‡èª¿æ•´ -->
        <div class="flex justify-end mb-4">
            <div class="volume-control">
                <span class="text-gray-700">ğŸ”Š</span>
                <input type="range" id="volumeSlider" class="volume-slider" min="0" max="100" value="50">
                <span id="volumeValue" class="text-gray-700 font-semibold">50%</span>
            </div>
        </div>

        <!-- ã‚²ãƒ¼ãƒ é–‹å§‹ç”»é¢ -->
        <div id="startScreen" class="text-center">
            <h1 id="gameTitle" class="text-4xl font-bold text-blue-800 mb-6">ğŸŒ SDGsã‚¯ã‚¤ã‚º</h1>
            <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
                <p class="text-lg text-gray-700 mb-4">å…·ä½“çš„ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‹ã‚‰è©²å½“ã™ã‚‹SDGsç›®æ¨™ã‚’é¸æŠã—ã¦ãã ã•ã„</p>
                <p class="text-md text-gray-600 mb-6">åˆ¶é™æ™‚é–“ã¯60ç§’ã§ã™ã€‚æ­£è§£ã¯è¤‡æ•°ã‚ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚</p>
                <button id="startButton" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg text-xl transition-colors">
                    ã‚²ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆ
                </button>
            </div>
        </div>

        <!-- ã‚²ãƒ¼ãƒ ç”»é¢ -->
        <div id="gameScreen" class="hidden">
            <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
            <div class="flex justify-between items-center mb-6">
                <h1 id="gameScreenTitle" class="text-2xl font-bold text-blue-800">ğŸŒ SDGsã‚¯ã‚¤ã‚º</h1>
                <div class="flex gap-4">
                    <div class="bg-white rounded-lg px-4 py-2 shadow">
                        <span id="timeLimitText" class="text-gray-600">æ®‹ã‚Šæ™‚é–“: </span>
                        <span id="timer" class="font-bold text-red-600">60</span>ç§’
                    </div>
                    <div class="bg-white rounded-lg px-4 py-2 shadow">
                        <span class="text-gray-600">å•é¡Œ: </span>
                        <span id="questionNumber" class="font-bold text-blue-600">1</span>
                    </div>
                </div>
            </div>

            <!-- å•é¡Œè¡¨ç¤º -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h2 class="text-xl font-bold text-gray-800 mb-4">ã“ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ã©ã®SDGsç›®æ¨™ã«é–¢é€£ã—ã¾ã™ã‹?</h2>
                <p id="questionText" class="text-lg text-gray-700 bg-blue-50 p-4 rounded-lg"></p>
                
                <!-- ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯è¡¨ç¤º -->
                <div id="feedbackArea" class="mt-4 hidden">
                    <div id="feedbackMessage" class="text-xl font-bold text-center py-3 px-4 rounded-lg"></div>
                    <div id="pauseTimer" class="text-center mt-2 text-lg font-semibold text-gray-600 hidden">
                        æ¬¡ã®å•é¡Œã¾ã§: <span id="pauseCount">2</span>ç§’
                    </div>
                </div>
            </div>

            <!-- SDGsç›®æ¨™ãƒœã‚¿ãƒ³ -->
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3" id="sdgButtons">
                <!-- SDGsãƒœã‚¿ãƒ³ãŒã“ã“ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
            </div>
        </div>

        <!-- çµæœç”»é¢ -->
        <div id="resultScreen" class="hidden">
            <div class="text-center mb-6">
                <h1 class="text-4xl font-bold text-blue-800 mb-6">ğŸ‰ ã‚²ãƒ¼ãƒ çµ‚äº†!</h1>
                <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
                    <div class="text-6xl font-bold text-green-600 mb-4" id="finalScore">0</div>
                    <p class="text-xl text-gray-700 mb-6">å•æ­£è§£!</p>
                    <button id="restartButton" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg text-xl transition-colors">
                        ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤
                    </button>
                </div>
            </div>

            <!-- è§£ç­”ç¢ºèª -->
            <div>
                <h2 class="text-2xl font-bold text-blue-800 mb-4">ğŸ“‹ è§£ç­”ç¢ºèª</h2>
                <div id="answersContent" class="space-y-4">
                    <!-- è§£ç­”å†…å®¹ãŒã“ã“ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // ========================================
        // éŸ³å£°æ©Ÿèƒ½ï¼ˆéŸ³é‡ãƒãƒ©ãƒ³ã‚¹èª¿æ•´ç‰ˆï¼‰
        // ========================================
        const AudioManager = {
            audioContext: null,
            volume: 0.5,
            bgmOscillators: [],
            bgmGainNode: null,
            isBgmPlaying: false,
            
            init() {
                this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
            },
            
            setVolume(value) {
                this.volume = Math.max(0, Math.min(1, value));
                if (this.bgmGainNode && this.isBgmPlaying) {
                    // BGMã¯åŸºæº–éŸ³é‡ã®0.1å€
                    this.bgmGainNode.gain.setValueAtTime(0.1 * this.volume, this.audioContext.currentTime);
                }
            },
            
            // BGM: ã‚¹ãƒ”ãƒ¼ãƒ‰æ„Ÿã®ã‚ã‚‹ãƒ«ãƒ¼ãƒ—éŸ³æ¥½ï¼ˆéŸ³é‡æŠ‘ãˆç›®ï¼‰
            startBGM() {
                if (!this.audioContext) this.init();
                if (this.isBgmPlaying) return;
                
                const context = this.audioContext;
                this.bgmGainNode = context.createGain();
                this.bgmGainNode.connect(context.destination);
                // BGMã¯åŸºæº–éŸ³é‡ã®0.1å€ï¼ˆåŠ¹æœéŸ³ã¯0.6å€ãªã®ã§ã€åŠ¹æœéŸ³ã®1/6ã®éŸ³é‡ï¼‰
                this.bgmGainNode.gain.setValueAtTime(0.1 * this.volume, context.currentTime);
                
                // ã‚¹ãƒ”ãƒ¼ãƒ‰æ„Ÿã®ã‚ã‚‹ãƒ¡ãƒ­ãƒ‡ã‚£ãƒ‘ã‚¿ãƒ¼ãƒ³
                const melody = [
                    { freq: 523.25, duration: 0.15 }, // C5
                    { freq: 587.33, duration: 0.15 }, // D5
                    { freq: 659.25, duration: 0.15 }, // E5
                    { freq: 783.99, duration: 0.15 }, // G5
                    { freq: 659.25, duration: 0.15 }, // E5
                    { freq: 587.33, duration: 0.15 }, // D5
                    { freq: 523.25, duration: 0.3 },  // C5
                    { freq: 587.33, duration: 0.15 }, // D5
                    { freq: 659.25, duration: 0.15 }, // E5
                    { freq: 698.46, duration: 0.15 }, // F5
                    { freq: 783.99, duration: 0.15 }, // G5
                    { freq: 880.00, duration: 0.3 },  // A5
                ];
                
                const bassline = [
                    { freq: 130.81, duration: 0.45 }, // C3
                    { freq: 146.83, duration: 0.45 }, // D3
                    { freq: 164.81, duration: 0.45 }, // E3
                    { freq: 196.00, duration: 0.45 }, // G3
                ];
                
                this.isBgmPlaying = true;
                
                const playMelodyLoop = () => {
                    if (!this.isBgmPlaying) return;
                    
                    let time = 0;
                    melody.forEach(note => {
                        const osc = context.createOscillator();
                        osc.type = 'square';
                        osc.frequency.value = note.freq;
                        osc.connect(this.bgmGainNode);
                        
                        const startTime = context.currentTime + time;
                        osc.start(startTime);
                        osc.stop(startTime + note.duration);
                        
                        time += note.duration;
                    });
                    
                    setTimeout(playMelodyLoop, time * 1000);
                };
                
                const playBassLoop = () => {
                    if (!this.isBgmPlaying) return;
                    
                    let time = 0;
                    bassline.forEach(note => {
                        const osc = context.createOscillator();
                        osc.type = 'sine';
                        osc.frequency.value = note.freq;
                        const bassGain = context.createGain();
                        bassGain.gain.value = 0.3;
                        osc.connect(bassGain);
                        bassGain.connect(this.bgmGainNode);
                        
                        const startTime = context.currentTime + time;
                        osc.start(startTime);
                        osc.stop(startTime + note.duration);
                        
                        time += note.duration;
                    });
                    
                    setTimeout(playBassLoop, time * 1000);
                };
                
                playMelodyLoop();
                playBassLoop();
            },
            
            stopBGM() {
                this.isBgmPlaying = false;
                if (this.bgmGainNode) {
                    this.bgmGainNode.gain.exponentialRampToValueAtTime(
                        0.01, 
                        this.audioContext.currentTime + 0.5
                    );
                }
            },
            
            // æ­£è§£éŸ³ï¼ˆBGMã®6å€ã®éŸ³é‡ = 0.6å€ï¼‰
            playCorrect() {
                if (!this.audioContext) this.init();
                const context = this.audioContext;
                const oscillator = context.createOscillator();
                const gainNode = context.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(context.destination);
                
                oscillator.frequency.value = 523.25; // C5
                oscillator.type = 'sine';
                
                // BGMã®6å€ã®éŸ³é‡
                gainNode.gain.setValueAtTime(0.6 * this.volume, context.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, context.currentTime + 0.5);
                
                oscillator.start(context.currentTime);
                oscillator.stop(context.currentTime + 0.5);
                
                // å’ŒéŸ³è¿½åŠ 
                const oscillator2 = context.createOscillator();
                const gainNode2 = context.createGain();
                oscillator2.connect(gainNode2);
                gainNode2.connect(context.destination);
                oscillator2.frequency.value = 659.25; // E5
                oscillator2.type = 'sine';
                gainNode2.gain.setValueAtTime(0.6 * this.volume, context.currentTime + 0.1);
                gainNode2.gain.exponentialRampToValueAtTime(0.01, context.currentTime + 0.5);
                oscillator2.start(context.currentTime + 0.1);
                oscillator2.stop(context.currentTime + 0.5);
            },
            
            // ä¸æ­£è§£éŸ³ï¼ˆBGMã®4å€ã®éŸ³é‡ = 0.4å€ï¼‰
            playWrong() {
                if (!this.audioContext) this.init();
                const context = this.audioContext;
                const oscillator = context.createOscillator();
                const gainNode = context.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(context.destination);
                
                oscillator.frequency.value = 200;
                oscillator.type = 'sawtooth';
                
                // BGMã®4å€ã®éŸ³é‡
                gainNode.gain.setValueAtTime(0.4 * this.volume, context.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, context.currentTime + 0.4);
                
                oscillator.start(context.currentTime);
                oscillator.stop(context.currentTime + 0.4);
            },
            
            playStart() {
                if (!this.audioContext) this.init();
                const context = this.audioContext;
                const oscillator = context.createOscillator();
                const gainNode = context.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(context.destination);
                
                oscillator.type = 'square';
                oscillator.frequency.setValueAtTime(440, context.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(880, context.currentTime + 0.3);
                
                gainNode.gain.setValueAtTime(0.4 * this.volume, context.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, context.currentTime + 0.3);
                
                oscillator.start(context.currentTime);
                oscillator.stop(context.currentTime + 0.3);
            },
            
            playEnd() {
                if (!this.audioContext) this.init();
                const context = this.audioContext;
                
                // 3ã¤ã®éŸ³ã‚’é †ç•ªã«é³´ã‚‰ã™
                [523.25, 659.25, 783.99].forEach((freq, index) => {
                    const oscillator = context.createOscillator();
                    const gainNode = context.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(context.destination);
                    
                    oscillator.frequency.value = freq;
                    oscillator.type = 'sine';
                    
                    const startTime = context.currentTime + (index * 0.15);
                    gainNode.gain.setValueAtTime(0.4 * this.volume, startTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + 0.4);
                    
                    oscillator.start(startTime);
                    oscillator.stop(startTime + 0.4);
                });
            },
            
            playClick() {
                if (!this.audioContext) this.init();
                const context = this.audioContext;
                const oscillator = context.createOscillator();
                const gainNode = context.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(context.destination);
                
                oscillator.frequency.value = 800;
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0.2 * this.volume, context.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, context.currentTime + 0.1);
                
                oscillator.start(context.currentTime);
                oscillator.stop(context.currentTime + 0.1);
            }
        };

        // ========================================
        // ã‚²ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿
        // ========================================
        const sdgGoals = [
            { id: 1, title: "è²§å›°ã‚’ãªããã†", color: "#e5243b" },
            { id: 2, title: "é£¢é¤“ã‚’ã‚¼ãƒ­ã«", color: "#dda63a" },
            { id: 3, title: "ã™ã¹ã¦ã®äººã«å¥åº·ã¨ç¦ç¥‰ã‚’", color: "#4c9f38" },
            { id: 4, title: "è³ªã®é«˜ã„æ•™è‚²ã‚’ã¿ã‚“ãªã«", color: "#c5192d" },
            { id: 5, title: "ã‚¸ã‚§ãƒ³ãƒ€ãƒ¼å¹³ç­‰ã‚’å®Ÿç¾ã—ã‚ˆã†", color: "#ff3a21" },
            { id: 6, title: "å®‰å…¨ãªæ°´ã¨ãƒˆã‚¤ãƒ¬ã‚’ä¸–ç•Œä¸­ã«", color: "#26bde2" },
            { id: 7, title: "ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’ã¿ã‚“ãªã« ãã—ã¦ã‚¯ãƒªãƒ¼ãƒ³ã«", color: "#fcc30b" },
            { id: 8, title: "åƒããŒã„ã‚‚çµŒæ¸ˆæˆé•·ã‚‚", color: "#a21942" },
            { id: 9, title: "ç”£æ¥­ã¨æŠ€è¡“é©æ–°ã®åŸºç›¤ã‚’ã¤ãã‚ã†", color: "#fd6925" },
            { id: 10, title: "äººã‚„å›½ã®ä¸å¹³ç­‰ã‚’ãªããã†", color: "#dd1367" },
            { id: 11, title: "ä½ã¿ç¶šã‘ã‚‰ã‚Œã‚‹ã¾ã¡ã¥ãã‚Šã‚’", color: "#fd9d24" },
            { id: 12, title: "ã¤ãã‚‹è²¬ä»» ã¤ã‹ã†è²¬ä»»", color: "#bf8b2e" },
            { id: 13, title: "æ°—å€™å¤‰å‹•ã«å…·ä½“çš„ãªå¯¾ç­–ã‚’", color: "#3f7e44" },
            { id: 14, title: "æµ·ã®è±Šã‹ã•ã‚’å®ˆã‚ã†", color: "#0a97d9" },
            { id: 15, title: "é™¸ã®è±Šã‹ã•ã‚‚å®ˆã‚ã†", color: "#56c02b" },
            { id: 16, title: "å¹³å’Œã¨å…¬æ­£ã‚’ã™ã¹ã¦ã®äººã«", color: "#00689d" },
            { id: 17, title: "ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚·ãƒƒãƒ—ã§ç›®æ¨™ã‚’é”æˆã—ã‚ˆã†", color: "#19486a" }
        ];

        const quizQuestions = [
            // å…ƒã®å•é¡Œ
            { question: "åœ°åŸŸã®æ¸…æƒæ´»å‹•ã«å‚åŠ ã™ã‚‹", correctAnswers: [11, 14, 15] },
            { question: "ãƒ•ã‚§ã‚¢ãƒˆãƒ¬ãƒ¼ãƒ‰å•†å“ã‚’è³¼å…¥ã™ã‚‹", correctAnswers: [1, 8, 12] },
            { question: "é£Ÿã¹ç‰©ã‚’æ®‹ã•ãšé£Ÿã¹ã‚‹", correctAnswers: [2, 12, 13] },
            { question: "ç¯€é›»ã‚’å¿ƒãŒã‘ã‚‹", correctAnswers: [7, 13] },
            { question: "ãƒã‚¤ãƒãƒƒã‚°ã‚’ä½¿ç”¨ã™ã‚‹", correctAnswers: [12, 13, 14, 15] },
            { question: "å‹Ÿé‡‘æ´»å‹•ã«å‚åŠ ã™ã‚‹", correctAnswers: [1, 3, 4, 17] },
            { question: "ãƒªã‚µã‚¤ã‚¯ãƒ«ã‚’å®Ÿè·µã™ã‚‹", correctAnswers: [12, 13, 14, 15] },
            { question: "å…¬å…±äº¤é€šæ©Ÿé–¢ã‚’åˆ©ç”¨ã™ã‚‹", correctAnswers: [11, 13] },
            { question: "åœ°ç”£åœ°æ¶ˆã‚’å¿ƒãŒã‘ã‚‹", correctAnswers: [2, 8, 11, 12, 13] },
            { question: "ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢æ´»å‹•ã«å‚åŠ ã™ã‚‹", correctAnswers: [1, 3, 4, 10, 16, 17] },
            { question: "æ°´ã‚’å¤§åˆ‡ã«ä½¿ã†", correctAnswers: [6, 13, 14] },
            { question: "å·®åˆ¥ã‚’ã—ãªã„ãƒ»ã•ã›ãªã„", correctAnswers: [5, 10, 16] },
            { question: "æœ¬ã‚„çŸ¥è­˜ã‚’äººã¨å…±æœ‰ã™ã‚‹", correctAnswers: [4, 17] },
            { question: "åœ°å…ƒã®è¾²ç”£ç‰©ã‚’è³¼å…¥ã™ã‚‹", correctAnswers: [2, 8, 11, 12, 15] },
            { question: "ãƒ—ãƒ©ã‚¹ãƒãƒƒã‚¯è£½å“ã®ä½¿ç”¨ã‚’æ¸›ã‚‰ã™", correctAnswers: [12, 13, 14, 15] },
            
            // æ–°è¦å•é¡Œï¼š1-20ï¼ˆå­¦æ ¡ç”Ÿæ´»ãƒ»åŸºæœ¬ï¼‰
            { question: "ä½¿ã‚ãªã„ã¨ãã«é›»æ°—ã‚’æ¶ˆã—ã¾ã™ã€‚", correctAnswers: [7] },
            { question: "æ°´ã‚’å‡ºã—ã£ã±ãªã—ã«ã—ã¾ã›ã‚“ã€‚", correctAnswers: [6] },
            { question: "çµ¦é£Ÿã‚’æ®‹ã•ãšé£Ÿã¹ã¾ã™ã€‚", correctAnswers: [12] },
            { question: "æ•™å®¤ã®ã‚´ãƒŸã‚’æ‹¾ã„ã¾ã™ã€‚", correctAnswers: [15] },
            { question: "ã‚ã„ã•ã¤ã‚’ã—ã¾ã™ã€‚", correctAnswers: [16] },
            { question: "å‹ã ã¡ã®è©±ã‚’ã—ã£ã‹ã‚Šèãã¾ã™ã€‚", correctAnswers: [16] },
            { question: "ç”·å¥³é–¢ä¿‚ãªãåŒã˜æ¨©åˆ©ã§æ´»å‹•ã—ã¾ã™ã€‚", correctAnswers: [5] },
            { question: "æ‰‹æ´—ã„ã‚’ã—ã¦ç—…æ°—ã‚’é˜²ãã¾ã™ã€‚", correctAnswers: [3] },
            { question: "é¢¨é‚ªã®ã¨ãã¯ç„¡ç†ã›ãšä¼‘ã¿ã¾ã™ã€‚", correctAnswers: [3] },
            { question: "å­¦æ ¡ã®æœ¬ã‚’å¤§åˆ‡ã«ä½¿ã„ã¾ã™ã€‚", correctAnswers: [4] },
            { question: "ã‚¤ã‚¹ã‚’ã¦ã„ã­ã„ã«é‹ã³ã¾ã™ã€‚", correctAnswers: [12] },
            { question: "é´ã‚’ãã‚ãˆã¾ã™ã€‚", correctAnswers: [12] },
            { question: "å­¦æ ¡ã‚’ãã‚Œã„ã«æƒé™¤ã—ã¾ã™ã€‚", correctAnswers: [11, 12] },
            { question: "ã‚†ãšã‚Šã‚ã£ã¦éŠå…·ã‚’ä½¿ã„ã¾ã™ã€‚", correctAnswers: [16] },
            { question: "ã†ãŒã„ãƒ»æ‰‹æ´—ã„ã‚’ç¿’æ…£ã«ã—ã¾ã™ã€‚", correctAnswers: [3] },
            { question: "ç†±ä¸­ç—‡ã«ãªã‚‰ãªã„ã‚ˆã†ã«æ°´åˆ†è£œçµ¦ã—ã¾ã™ã€‚", correctAnswers: [3] },
            { question: "ã¿ã‚“ãªã§åœ°åŸŸè¡Œäº‹ã«å‚åŠ ã—ã¾ã™ã€‚", correctAnswers: [11] },
            { question: "å­¦æ ¡ã§å›°ã£ã¦ã„ã‚‹äººã«å£°ã‚’ã‹ã‘ã¾ã™ã€‚", correctAnswers: [16] },
            { question: "ãŠå¹´å¯„ã‚Šã«å¸­ã‚’ã‚†ãšã‚Šã¾ã™ã€‚", correctAnswers: [10, 16] },
            { question: "åœ°åŸŸã®äººã¨ã®ã‚ã„ã•ã¤ã‚’å¤§åˆ‡ã«ã—ã¾ã™ã€‚", correctAnswers: [11, 16] },
            
            // æ–°è¦å•é¡Œï¼š21-40ï¼ˆç’°å¢ƒãƒ»ã‚¨ã‚³ï¼‰
            { question: "ç´™ã‚’ãƒªã‚µã‚¤ã‚¯ãƒ«ã—ã¾ã™ã€‚", correctAnswers: [12] },
            { question: "ãƒšãƒƒãƒˆãƒœãƒˆãƒ«ã‚’åˆ†åˆ¥ã—ã¾ã™ã€‚", correctAnswers: [12] },
            { question: "ãƒ—ãƒ©ã‚¹ãƒãƒƒã‚¯ã”ã¿ã‚’æ¸›ã‚‰ã—ã¾ã™ã€‚", correctAnswers: [12, 14] },
            { question: "å…¬åœ’ã®ã‚´ãƒŸã‚’æ‹¾ã„ã¾ã™ã€‚", correctAnswers: [15, 14] },
            { question: "å±±ã‚„å·ã‚’æ±šã—ã¾ã›ã‚“ã€‚", correctAnswers: [14, 15] },
            { question: "ä½¿ã„æ¨ã¦ã‚¹ãƒˆãƒ­ãƒ¼ã‚’ä½¿ã‚ãªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚", correctAnswers: [12, 14] },
            { question: "æœ¨ã‚’æ¤ãˆã¾ã™ã€‚", correctAnswers: [13, 15] },
            { question: "æ£®ã‚’å®ˆã‚‹é‹å‹•ã«å‚åŠ ã—ã¾ã™ã€‚", correctAnswers: [15] },
            { question: "å®¶åº­èœåœ’ã§é‡èœã‚’è‚²ã¦ã¾ã™ã€‚", correctAnswers: [2, 12, 15] },
            { question: "åœ°å…ƒç”£ã®é£Ÿã¹ç‰©ã‚’é£Ÿã¹ã¾ã™ã€‚", correctAnswers: [12, 13] },
            { question: "ç¯€é›»ã‚’å¿ƒãŒã‘ã¾ã™ã€‚", correctAnswers: [7, 13] },
            { question: "å…¬åœ’ã®ç”Ÿãç‰©ã‚’å¤§åˆ‡ã«ã—ã¾ã™ã€‚", correctAnswers: [15] },
            { question: "æµ·ã«ã”ã¿ã‚’æ¨ã¦ã¾ã›ã‚“ã€‚", correctAnswers: [14] },
            { question: "é­šã‚’ã¨ã‚Šã™ããªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚", correctAnswers: [14] },
            { question: "ç”Ÿãã‚‚ã®å›³é‘‘ã‚’ä½¿ã£ã¦è‡ªç„¶ã‚’èª¿ã¹ã¾ã™ã€‚", correctAnswers: [15, 4] },
            { question: "è™«ã‚’ã‚€ã‚„ã¿ã«ã“ã‚ã—ã¾ã›ã‚“ã€‚", correctAnswers: [15] },
            { question: "ã‚¨ã‚¢ã‚³ãƒ³ã®ä½¿ã„ã™ãã«æ°—ã‚’ã¤ã‘ã¾ã™ã€‚", correctAnswers: [7, 13] },
            { question: "è¿‘æ‰€ã«å‡ºã‹ã‘ã‚‹ã¨ãã¯æ­©ãã¾ã™ã€‚", correctAnswers: [13] },
            { question: "è‡ªè»¢è»Šã§é€šå­¦ã—ã¦COâ‚‚ã‚’æ¸›ã‚‰ã—ã¾ã™ã€‚", correctAnswers: [7, 11, 13] },
            { question: "ãƒã‚¤ãƒãƒƒã‚°ã‚’æŒã¡æ­©ãã¾ã™ã€‚", correctAnswers: [12] },
            
            // æ–°è¦å•é¡Œï¼š41-60ï¼ˆä¸–ç•Œãƒ»å¹³ç­‰ãƒ»å”åŠ›ï¼‰
            { question: "ä¸–ç•Œä¸­ã®å­ã©ã‚‚ãŒå­¦æ ¡ã¸è¡Œã‘ã‚‹ã‚ˆã†ã«å¿œæ´ã—ã¾ã™ã€‚", correctAnswers: [4] },
            { question: "å›½ã®ã¡ãŒã„ã‚’èªã‚ã¦ä»²è‰¯ãã—ã¾ã™ã€‚", correctAnswers: [10, 16] },
            { question: "å¤–å›½ã‹ã‚‰æ¥ãŸå‹ã ã¡ã‚‚ä»²é–“ã«å…¥ã‚Œã¾ã™ã€‚", correctAnswers: [10, 16] },
            { question: "éšœãŒã„ã®ã‚ã‚‹äººã‚‚ä½¿ã„ã‚„ã™ã„æ•™å®¤ã«ã—ã¾ã™ã€‚", correctAnswers: [10, 11] },
            { question: "åœ°éœ‡ã®ã¨ãã«åŠ©ã‘ã‚ã†ç·´ç¿’ã‚’ã—ã¾ã™ã€‚", correctAnswers: [11, 16] },
            { question: "ã¿ã‚“ãªã®æ„è¦‹ã‚’èãä¼šã‚’ã—ã¾ã™ã€‚", correctAnswers: [16] },
            { question: "ç›¸æ‰‹ã®æ°—æŒã¡ã‚’è€ƒãˆã¦ã“ã¨ã°ã‚’é¸ã³ã¾ã™ã€‚", correctAnswers: [16] },
            { question: "ã‘ã‚“ã‹ã«ãªã‚Šãã†ã«ãªã£ãŸã‚‰è©±ã—åˆã„ã¾ã™ã€‚", correctAnswers: [16] },
            { question: "ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢æ´»å‹•ã«å‚åŠ ã—ã¾ã™ã€‚", correctAnswers: [17, 11, 16] },
            { question: "ã„ã˜ã‚ã‚’ã—ã¾ã›ã‚“ã€‚", correctAnswers: [16] },
            { question: "ä»•äº‹ã‚’ãŒã‚“ã°ã‚‹å¤§äººã‚’å¿œæ´ã—ã¾ã™ã€‚", correctAnswers: [8] },
            { question: "ä¸–ç•Œã®äººãŒå¹³å’Œã«ãã‚‰ã›ã‚‹ã‚ˆã†ã«ç¥ˆã‚Šã¾ã™ã€‚", correctAnswers: [16] },
            { question: "ã¿ã‚“ãªã§é›†ä¼šã®ãƒ«ãƒ¼ãƒ«ã‚’æ±ºã‚ã¾ã™ã€‚", correctAnswers: [16] },
            { question: "å›½ã©ã†ã—ã§å”åŠ›ã™ã‚‹ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’è¦‹ã‚‹ã€‚", correctAnswers: [17] },
            { question: "ã€Œã‚ã‚ŠãŒã¨ã†ã€ã‚’ä¼ãˆã‚‹ã€‚", correctAnswers: [16] },
            { question: "åŠ´åƒè€…ã®å®‰å…¨ã‚’ã¾ã‚‚ã‚‹æ´»å‹•ã«é–¢å¿ƒã‚’æŒã¤ã€‚", correctAnswers: [8, 3] },
            { question: "ä¸å…¬å¹³ãªã“ã¨ã«æ°—ã¥ã„ãŸã‚‰å£°ã‚’ä¸Šã’ã‚‹ã€‚", correctAnswers: [10, 16] },
            { question: "å­ã©ã‚‚ã‚‚å¤§äººã‚‚æ„è¦‹ã‚’è¨€ãˆã‚‹å ´æ‰€ã‚’å¤§åˆ‡ã«ã™ã‚‹ã€‚", correctAnswers: [16] },
            { question: "æ–°ã—ã„é“å…·ã‚’ä½œã‚‹ä¼æ¥­ã‚’å¿œæ´ã™ã‚‹ã€‚", correctAnswers: [9] },
            { question: "äººã€…ãŒæ´»å‹•ã™ã‚‹ãŸã‚ã®å»ºç‰©ã‚„æ©‹ã‚’æ•´å‚™ã™ã‚‹ã€‚", correctAnswers: [9] },
            
            // æ–°è¦å•é¡Œï¼š61-80ï¼ˆç§‘å­¦ãƒ»ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ãƒ»ç¤¾ä¼šï¼‰
            { question: "ã‚½ãƒ¼ãƒ©ãƒ¼ãƒ‘ãƒãƒ«ã‚’ä½¿ã„ã¾ã™ã€‚", correctAnswers: [7, 13] },
            { question: "é›»æ°—è‡ªå‹•è»Šã‚’ä½¿ã„ã¾ã™ã€‚", correctAnswers: [7, 13] },
            { question: "ç½å®³ã«å¼·ã„å®¶ã‚’å»ºã¦ã¾ã™ã€‚", correctAnswers: [9, 11, 13] },
            { question: "åœ°éœ‡ã«ã¤ã„ã¦å­¦ã³ã¾ã™ã€‚", correctAnswers: [4, 11] },
            { question: "å°é¢¨ã¸ã®å‚™ãˆã‚’ã—ã¾ã™ã€‚", correctAnswers: [11, 13] },
            { question: "åŒ»ç™‚ã®ãŸã‚ã®ç ”ç©¶ã‚’å¿œæ´ã—ã¾ã™ã€‚", correctAnswers: [3, 9] },
            { question: "é£Ÿã¹ç‰©ã‚’ä½œã‚‹è¾²æ¥­æŠ€è¡“ã‚’å·¥å¤«ã—ã¾ã™ã€‚", correctAnswers: [2, 9, 12] },
            { question: "æ°´ã‚’ãã‚Œã„ã«ã™ã‚‹æŠ€è¡“ã«æ³¨ç›®ã—ã¾ã™ã€‚", correctAnswers: [6, 9] },
            { question: "è‡ªç„¶ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’èª¿ã¹ã¾ã™ã€‚", correctAnswers: [4, 7] },
            { question: "å·¥å ´ã‹ã‚‰å‡ºã‚‹ç…™ã‚’æ¸›ã‚‰ã™å·¥å¤«ã‚’è€ƒãˆã¾ã™ã€‚", correctAnswers: [9, 13] },
            { question: "é­šã‚’é¤Šæ®–ã™ã‚‹æ–¹æ³•ã‚’è€ƒãˆã¾ã™ã€‚", correctAnswers: [14, 9] },
            { question: "æ£®æ—ã‚’å®ˆã‚‹æ–°ã—ã„è¨ˆç”»ã‚’ã¤ãã‚Šã¾ã™ã€‚", correctAnswers: [15, 17] },
            { question: "åœ°å›³ã‚’è¦‹ã¦åœ°åŸŸã‚’èª¿ã¹ã¾ã™ã€‚", correctAnswers: [4, 11] },
            { question: "ãƒªã‚µã‚¤ã‚¯ãƒ«å·¥å ´ã®ä»•çµ„ã¿ã‚’å­¦ã³ã¾ã™ã€‚", correctAnswers: [4, 12, 9] },
            { question: "åœ°çƒæ¸©æš–åŒ–ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’è¦‹ã‚‹ã€‚", correctAnswers: [13] },
            { question: "æµ·ã®ãƒ—ãƒ©ã‚¹ãƒãƒƒã‚¯å•é¡Œã‚’èª¿ã¹ã‚‹ã€‚", correctAnswers: [14, 12] },
            { question: "å…¬å…±äº¤é€šã‚’åˆ©ç”¨ã™ã‚‹ã€‚", correctAnswers: [11, 13] },
            { question: "ã‚ªãƒ³ãƒ©ã‚¤ãƒ³æˆæ¥­ã§å­¦ã¶ã€‚", correctAnswers: [4, 9, 10] },
            { question: "ä¸–ç•Œä¸­ã¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã§ã¤ãªãŒã‚‹ã€‚", correctAnswers: [9, 10] },
            { question: "AIãƒ­ãƒœãƒƒãƒˆã§ä½œæ¥­ã‚’åŠ©ã‘ã‚‹ã€‚", correctAnswers: [8, 9] },
            
            // æ–°è¦å•é¡Œï¼š81-100ï¼ˆå¿œç”¨ãƒ»ç·åˆï¼‰
            { question: "ä¸–ç•Œã®é£Ÿç³§ä¸è¶³ã‚’ãªãã™æ´»å‹•ã‚’çŸ¥ã‚‹ã€‚", correctAnswers: [2, 17] },
            { question: "ã™ã¹ã¦ã®äººã«åŒ»ç™‚ã‚’å±Šã‘ã‚‹æ´»å‹•ã‚’å¿œæ´ã™ã‚‹ã€‚", correctAnswers: [3, 10] },
            { question: "å­ã©ã‚‚ã®åŠ´åƒã‚’ãªãã™å–ã‚Šçµ„ã¿ã«é–¢å¿ƒã‚’æŒã¤ã€‚", correctAnswers: [8, 10, 16] },
            { question: "è²§å›°ã«ã¤ã„ã¦å­¦ã¶ã€‚", correctAnswers: [1] },
            { question: "å‹Ÿé‡‘æ´»å‹•ã«å‚åŠ ã™ã‚‹ã€‚", correctAnswers: [1, 2, 3, 17] },
            { question: "éšœãŒã„ã®ã‚ã‚‹äººã®ã‚¹ãƒãƒ¼ãƒ„ã‚’å¿œæ´ã™ã‚‹ã€‚", correctAnswers: [3, 10] },
            { question: "æ°´ã®å¤§åˆ‡ã•ã‚’ä¼ãˆã‚‹ãƒã‚¹ã‚¿ãƒ¼ã‚’ä½œã‚‹ã€‚", correctAnswers: [6, 12] },
            { question: "è¡—ã®å®‰å…¨ã‚’å®ˆã‚‹ãŸã‚ã«è¦‹å›ã‚Šã‚’ã™ã‚‹ã€‚", correctAnswers: [11, 16] },
            { question: "ç½å®³ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢ã«å‚åŠ ã™ã‚‹ã€‚", correctAnswers: [11, 16, 17] },
            { question: "æ°—å€™å¤‰å‹•ã®ãŸã‚ã«ã§ãã‚‹ã“ã¨ã‚’è€ƒãˆã‚‹ã€‚", correctAnswers: [13] },
            { question: "æ£®ã¨æµ·ã¯ã¤ãªãŒã£ã¦ã„ã‚‹ã“ã¨ã‚’å­¦ã¶ã€‚", correctAnswers: [14, 15] },
            { question: "å­ã©ã‚‚é£Ÿå ‚ã«å”åŠ›ã™ã‚‹ã€‚", correctAnswers: [1, 2, 10] },
            { question: "ãƒ•ã‚§ã‚¢ãƒˆãƒ¬ãƒ¼ãƒ‰å•†å“ã‚’é¸ã¶ã€‚", correctAnswers: [8, 10, 12] },
            { question: "å†ç”Ÿå¯èƒ½ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®ç™ºé›»ã‚’å¿œæ´ã™ã‚‹ã€‚", correctAnswers: [7, 13] },
            { question: "ä¸–ç•Œã§å”åŠ›ã—ã¦æ„ŸæŸ“ç—‡ã«ç«‹ã¡å‘ã‹ã†ã€‚", correctAnswers: [3, 17] },
            { question: "åœ°å…ƒã®è‡ªç„¶ã‚’çŸ¥ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒ¯ãƒ¼ã‚¯ã€‚", correctAnswers: [15, 11] },
            { question: "ç”£æ¥­ã‚’ç™ºå±•ã•ã›ä»•äº‹ã‚’ã¤ãã‚‹ã€‚", correctAnswers: [8, 9] },
            { question: "å­è‚²ã¦ã—ã‚„ã™ã„ç¤¾ä¼šã‚’è€ƒãˆã‚‹ã€‚", correctAnswers: [3, 5, 10, 11] },
            { question: "ä¸–ç•Œä¸­ã®å•é¡Œã‚’ãƒ‹ãƒ¥ãƒ¼ã‚¹ã§çŸ¥ã‚‹ã€‚", correctAnswers: [4, 16, 17] },
            { question: "å›½ã‚„äººã‚’ã“ãˆã¦å”åŠ›ã—ã¦ä¸–ç•Œã‚’è‰¯ãã™ã‚‹ã€‚", correctAnswers: [17] }
        ];

        // ========================================
        // ã‚²ãƒ¼ãƒ çŠ¶æ…‹
        // ========================================
        let gameState = {
            currentQuestion: 0,
            score: 0,
            timeLeft: 60,
            gameActive: false,
            userAnswers: [],
            timer: null
        };

        // ========================================
        // UIè¦ç´ 
        // ========================================
        const startScreen = document.getElementById('startScreen');
        const gameScreen = document.getElementById('gameScreen');
        const resultScreen = document.getElementById('resultScreen');

        // ========================================
        // ã‚²ãƒ¼ãƒ æ©Ÿèƒ½
        // ========================================
        function createSDGButtons() {
            const container = document.getElementById('sdgButtons');
            container.innerHTML = '';
            
            sdgGoals.forEach(goal => {
                const button = document.createElement('button');
                button.className = 'sdg-button p-3 rounded-lg text-white font-bold text-sm transition-all hover:shadow-lg';
                button.style.backgroundColor = goal.color;
                button.textContent = `${goal.id}. ${goal.title}`;
                button.onclick = () => selectAnswer(goal.id);
                container.appendChild(button);
            });
        }

        function displayQuestion() {
            if (gameState.currentQuestion >= quizQuestions.length) {
                gameState.currentQuestion = 0;
            }
            
            const question = quizQuestions[gameState.currentQuestion];
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('questionNumber').textContent = gameState.currentQuestion + 1;
            
            resetButtonStates();
        }

        function resetButtonStates() {
            const buttons = document.querySelectorAll('.sdg-button');
            buttons.forEach(button => {
                button.classList.remove('correct-answer', 'wrong-answer');
                button.disabled = false;
                const goalId = parseInt(button.textContent.split('.')[0]);
                const goal = sdgGoals.find(g => g.id === goalId);
                button.style.backgroundColor = goal.color;
            });
        }

        function selectAnswer(selectedId) {
            if (!gameState.gameActive) return;
            
            AudioManager.playClick();
            
            const question = quizQuestions[gameState.currentQuestion];
            const isCorrect = question.correctAnswers.includes(selectedId);
            
            gameState.userAnswers.push({
                question: question.question,
                userAnswer: selectedId,
                correctAnswers: question.correctAnswers,
                isCorrect: isCorrect
            });
            
            const buttons = document.querySelectorAll('.sdg-button');
            buttons.forEach(button => {
                button.disabled = true;
                const goalId = parseInt(button.textContent.split('.')[0]);
                
                if (question.correctAnswers.includes(goalId)) {
                    button.classList.add('correct-answer');
                } else if (goalId === selectedId && !isCorrect) {
                    button.classList.add('wrong-answer');
                }
            });
            
            const feedbackArea = document.getElementById('feedbackArea');
            const feedbackMessage = document.getElementById('feedbackMessage');
            const pauseTimer = document.getElementById('pauseTimer');
            
            feedbackArea.classList.remove('hidden');
            
            if (isCorrect) {
                AudioManager.playCorrect();
                gameState.score++;
                feedbackMessage.textContent = 'ğŸ‰ æ­£è§£!';
                feedbackMessage.className = 'text-xl font-bold text-center py-3 px-4 rounded-lg bg-green-100 text-green-800';
                pauseTimer.classList.add('hidden');
                
                setTimeout(() => {
                    nextQuestion();
                }, 800);
            } else {
                AudioManager.playWrong();
                feedbackMessage.textContent = 'âŒ ä¸æ­£è§£';
                feedbackMessage.className = 'text-xl font-bold text-center py-3 px-4 rounded-lg bg-red-100 text-red-800';
                pauseTimer.classList.remove('hidden');
                
                let countdown = 2;
                document.getElementById('pauseCount').textContent = countdown;
                
                const countdownInterval = setInterval(() => {
                    countdown--;
                    document.getElementById('pauseCount').textContent = countdown;
                    
                    if (countdown <= 0) {
                        clearInterval(countdownInterval);
                        nextQuestion();
                    }
                }, 1000);
            }
        }

        function nextQuestion() {
            if (!gameState.gameActive) return;
            
            document.getElementById('feedbackArea').classList.add('hidden');
            
            gameState.currentQuestion++;
            displayQuestion();
        }

        function startTimer() {
            gameState.timer = setInterval(() => {
                gameState.timeLeft--;
                document.getElementById('timer').textContent = gameState.timeLeft;
                
                if (gameState.timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        function startGame() {
            AudioManager.playStart();
            AudioManager.startBGM(); // BGMé–‹å§‹
            
            gameState = {
                currentQuestion: 0,
                score: 0,
                timeLeft: 60,
                gameActive: true,
                userAnswers: [],
                timer: null
            };
            
            startScreen.classList.add('hidden');
            gameScreen.classList.remove('hidden');
            resultScreen.classList.add('hidden');
            
            createSDGButtons();
            displayQuestion();
            startTimer();
        }

        function endGame() {
            AudioManager.stopBGM(); // BGMåœæ­¢
            AudioManager.playEnd();
            
            gameState.gameActive = false;
            if (gameState.timer) {
                clearInterval(gameState.timer);
            }
            
            gameScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            
            document.getElementById('finalScore').textContent = gameState.score;
            showAnswers();
        }

        function showAnswers() {
            const container = document.getElementById('answersContent');
            container.innerHTML = '';
            
            gameState.userAnswers.forEach((answer, index) => {
                const answerDiv = document.createElement('div');
                answerDiv.className = 'bg-white rounded-lg shadow p-4';
                
                const correctGoals = answer.correctAnswers.map(id => 
                    sdgGoals.find(g => g.id === id).title
                ).join(', ');
                
                const userGoal = sdgGoals.find(g => g.id === answer.userAnswer).title;
                
                answerDiv.innerHTML = `
                    <div class="flex items-center mb-2">
                        <span class="font-bold text-gray-700">å•é¡Œ ${index + 1}:</span>
                        <span class="ml-2 px-2 py-1 rounded text-sm ${answer.isCorrect ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                            ${answer.isCorrect ? 'æ­£è§£' : 'ä¸æ­£è§£'}
                        </span>
                    </div>
                    <p class="text-gray-700 mb-2">${answer.question}</p>
                    <p class="text-sm text-gray-600 mb-1"><strong>ã‚ãªãŸã®å›ç­”:</strong> ${userGoal}</p>
                    <p class="text-sm text-gray-600"><strong>æ­£è§£:</strong> ${correctGoals}</p>
                `;
                
                container.appendChild(answerDiv);
            });
        }

        // ========================================
        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
        // ========================================
        document.getElementById('startButton').addEventListener('click', startGame);
        document.getElementById('restartButton').addEventListener('click', startGame);

        // éŸ³é‡èª¿æ•´
        const volumeSlider = document.getElementById('volumeSlider');
        const volumeValue = document.getElementById('volumeValue');
        
        volumeSlider.addEventListener('input', (e) => {
            const volume = e.target.value / 100;
            AudioManager.setVolume(volume);
            volumeValue.textContent = e.target.value + '%';
        });

        // ========================================
        // åˆæœŸåŒ–
        // ========================================
        createSDGButtons();
    </script>
</body>
</html>
